<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Browse verified international companies, exporters, and suppliers on Trader Route. Search by country, name, or industry.">
  <meta name="keywords" content="Trader Route, Companies, Exporters, Suppliers, B2B, Global Trade, Marketplace">
  <meta name="author" content="Trader Route">
  <title>Trader Route ‚Äî Companies</title>
  <link rel="icon" href="assets/logos.png" type="image/png">
  <link rel="preload" href="assets/logos.png" as="image">
  <style>
  body {
    margin: 0;
    font-family: "Inter", "Segoe UI", Arial, sans-serif;
    background: #f5f7fa;
    color: #222;
    overflow-x: hidden;
  }
  header {
    background: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    padding: 12px 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1000;
    width: 100%;
  }
  header img { height: 46px; }
  nav a {
    margin: 0 14px;
    text-decoration: none;
    color: #222;
    font-weight: 500;
    font-size: 15px;
  }
  nav a:hover { color: #007bff; }

  /* === FULL WIDTH SEARCH BAR === */
  .search-bar {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 10px;
    padding: 25px 0;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    margin: 0;
    border-radius: 0;
  }
  input, select {
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 15px;
    min-width: 180px;
  }
  button {
    background: #008b6a;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 10px 18px;
    cursor: pointer;
    font-weight: 600;
    transition: 0.25s;
  }
  button:hover { background: #006b52; }

  /* === FULL WIDTH GRID === */
  .companies {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    padding: 30px 50px;
    width: 100%;
    box-sizing: border-box;
    margin: 0;
  }

  .card {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    padding: 18px;
    transition: 0.25s;
  }
  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 5px 12px rgba(0,0,0,0.08);
  }
  .card h3 { margin-top: 0; color: #007bff; }
  .card p { font-size: 15px; color: #555; }

  footer {
    background: #fff;
    text-align: center;
    padding: 20px;
    font-size: 14px;
    color: #666;
    border-top: 1px solid #ddd;
    width: 100%;
  }

  @media(max-width:768px){
    header { flex-direction: column; gap: 10px; }
    .search-bar { flex-direction: column; padding: 20px; }
    input, select, button { width: 90%; }
    .companies { padding: 20px; }
  }
</style>
</head>

<body>
  <!-- ‚úÖ TEK HEADER (diƒüer sayfalarla aynƒ± yapƒ±) -->
  <header>
    <div class="logo-container" style="display:flex;align-items:center;gap:10px;cursor:pointer;" onclick="location.href='index.html'">
      <img src="assets/logos.png" alt="Trader Route Logo">
      <span class="logo-text" style="font-size:15px;color:#555;font-weight:500;">The Silk Road of E-Commerce</span>
    </div>

    <nav>
      <a href="index.html">Home</a>
      <a href="companies.html" style="color:#008b6a;font-weight:700;">Companies</a>
      <a href="requests.html">Requests</a>
      <a href="contact.html">Contact</a>
      <a href="pricing.html">Pricing</a>
    </nav>

    <div class="header-right" style="display:flex;align-items:center;gap:10px;">
      <div class="search-box" style="display:flex;align-items:center;background:#f1f1f1;border-radius:20px;padding:5px 10px;">
        <input type="text" placeholder="Search..." style="border:none;background:none;outline:none;padding:5px;font-size:14px;width:150px;">
        <button style="background:none;border:none;cursor:pointer;">üîç</button>
      </div>
      
      <!-- üì© Messages Button -->
<div id="messageIconContainer" style="position:relative;margin-left:15px;">
  <a href="messages.html" id="messageIconLink" style="text-decoration:none;color:inherit;">
    <img src="assets/email.png" alt="Messages" style="width:25px;height:25px;cursor:pointer;">
    <span id="messageBadge"
          style="position:absolute;top:-5px;right:-8px;
          background:red;color:white;font-size:11px;
          border-radius:50%;padding:2px 5px;display:none;">
    </span>
  </a>
</div>

      <button class="login-btn" onclick="location.href='login.html'" 
              style="border:none;cursor:pointer;border-radius:6px;background:#f1f1f1;padding:7px 14px;font-weight:500;">
        Sign In
      </button>
      <button class="join-btn" onclick="location.href='register.html'" 
              style="border:none;cursor:pointer;border-radius:6px;background:#008b6a;color:#fff;padding:8px 15px;font-weight:500;">
        Join Now
      </button>

      <!-- üë§ Kullanƒ±cƒ± Men√ºs√º -->
      <div id="userMenuContainer" style="position:relative;display:inline-block;margin-left:8px;">
        <img id="userIcon" src="assets/user-icon.png" alt="User Icon"
             style="width:36px;height:36px;border-radius:50%;cursor:pointer;display:none;">
        <div id="userDropdown"
             style="display:none;position:absolute;right:0;top:45px;background:#fff;border:1px solid #ddd;border-radius:8px;
                    box-shadow:0 6px 18px rgba(0,0,0,.12);width:180px;z-index:999;overflow:hidden;">
          <a href="profile.html"  style="display:block;padding:10px 12px;color:#333;text-decoration:none;border-bottom:1px solid #eee;">Profile</a>
          <a href="messages.html" style="display:block;padding:10px 12px;color:#333;text-decoration:none;border-bottom:1px solid #eee;">Messages</a>
          <a href="#" onclick="logoutUser()" style="display:block;padding:10px 12px;color:#d9534f;text-decoration:none;">Logout</a>
        </div>
      </div>
    </div>
  </header>

  <section class="search-bar">
    <input type="text" id="companySearch" placeholder="Search companies by name, country or product...">
    <select id="countryFilter">
      <option value="">All Countries</option>
      <option value="Turkey">Turkey</option>
      <option value="China">China</option>
      <option value="Germany">Germany</option>
      <option value="United States">United States</option>
      <option value="Italy">Italy</option>
    </select>
    <button onclick="filterCompanies()">Search</button>
  </section>

  <section class="companies" id="companiesList">
    <div class="card"><h3>Global Textiles Co.</h3><p><strong>Country:</strong> Turkey</p><p><strong>Products:</strong> Fabrics, Yarn</p></div>
    <div class="card"><h3>Oceanic Metals Ltd.</h3><p><strong>Country:</strong> China</p><p><strong>Products:</strong> Steel, Alloys</p></div>
    <div class="card"><h3>GreenFoods Export</h3><p><strong>Country:</strong> Italy</p><p><strong>Products:</strong> Olive Oil, Pasta, Sauces</p></div>
    <div class="card"><h3>EuroMachines GmbH</h3><p><strong>Country:</strong> Germany</p><p><strong>Products:</strong> Industrial Machinery</p></div>
  </section>

  <footer>¬© 2025 Trader Route ‚Äî Verified Companies & Global Partners</footer>

  <script>
    function filterCompanies(){
      const searchValue=document.getElementById("companySearch").value.toLowerCase();
      const selectedCountry=document.getElementById("countryFilter").value.toLowerCase();
      document.querySelectorAll(".card").forEach(card=>{
        const text=card.textContent.toLowerCase();
        const match=(!searchValue||text.includes(searchValue))&&(!selectedCountry||text.includes(selectedCountry));
        card.style.display=match?"block":"none";
      });
    }
    document.getElementById("companySearch").addEventListener("keyup",e=>{
      if(e.key==="Enter")filterCompanies();
    });
  </script>

  <!-- ‚úÖ User Menu Control -->
  <script>
  (function(){
    const icon=document.getElementById('userIcon');
    const dropdown=document.getElementById('userDropdown');
    const loginBtn=document.querySelector("button[onclick*='login.html']");
    const joinBtn=document.querySelector("button[onclick*='register.html']");
    const currentUser=JSON.parse(localStorage.getItem('tr_user')||'null');
    if(currentUser){icon.style.display='inline-block';loginBtn.style.display='none';joinBtn.style.display='none';}
    else{icon.style.display='none';loginBtn.style.display='';joinBtn.style.display='';}
    icon?.addEventListener('click',e=>{e.stopPropagation();dropdown.style.display=(dropdown.style.display==='block')?'none':'block';});
    document.addEventListener('click',e=>{if(!e.target.closest('#userMenuContainer'))dropdown.style.display='none';});
    window.logoutUser=function(){localStorage.removeItem('tr_user');location.href='index.html';};
  })();
  </script>

  <script>
// === Mesaj bildirimi kontrol√º ===
(function(){
  const badge = document.getElementById("messageBadge");
  const user = JSON.parse(localStorage.getItem("tr_user") || "null");
  if(!user || !badge) return;

  const allMessages = JSON.parse(localStorage.getItem("tr_messages") || "[]");
  const unread = allMessages.filter(m => m.to === user.email && !m.read);

  if(unread.length > 0){
    badge.textContent = unread.length;
    badge.style.display = "inline-block";
  } else {
    badge.style.display = "none";
  }
})();
</script>
  
</body>
</html>
